---
import BaseLayout from '../layouts/BaseLayout.astro';
import DesignSystemNav from '../components/design-system/DesignSystemNav.astro';
import TokenSwatch from '../components/design-system/TokenSwatch.astro';
---

<BaseLayout title="Design System | Joel Shinness" description="Internal design system reference for Joel and AI coding agents">
  <!-- Noindex meta tag for internal-only page -->
  <meta slot="head" name="robots" content="noindex, follow" />

  <div class="container mx-auto px-4 py-12">
    <!-- Two-column grid: sidebar + main content -->
    <div class="grid grid-cols-1 lg:grid-cols-[250px_1fr] gap-8">
      <!-- Sidebar: sticky navigation (desktop only) -->
      <aside class="hidden lg:block">
        <div class="sticky top-[76px] max-h-[calc(100vh-92px)] overflow-y-auto">
          <DesignSystemNav />
        </div>
      </aside>

      <!-- Main content area -->
      <main class="max-w-5xl">
        <!-- Introduction Section -->
        <section id="introduction" class="mb-16">
          <h1 class="font-heading text-4xl md:text-5xl font-bold uppercase mb-6">
            Design System
          </h1>
          <p class="text-lg leading-relaxed mb-4 text-text-muted-light dark:text-text-muted-dark">
            Internal reference for Joel and AI coding agents. Components, tokens, and utilities for consistent development.
          </p>
          <p class="text-sm text-text-muted-light dark:text-text-muted-dark">
            <strong>Machine-readable format:</strong>
            <a
              href="/design-system.json"
              class="text-turquoise hover:text-turquoise-hover dark:text-turquoise-dark dark:hover:text-turquoise underline ml-1"
            >
              /design-system.json
            </a>
          </p>
        </section>

        <!-- Colors Section -->
        <section id="colors" class="mb-16">
          <h2 class="font-heading text-3xl font-bold uppercase mb-6 border-l-4 border-turquoise dark:border-turquoise-dark pl-4">
            Colors
          </h2>
          <p class="text-lg leading-relaxed mb-6 text-text-muted-light dark:text-text-muted-dark">
            All colors use <strong>OKLCH</strong> (Oklab Lightness Chroma Hue) color space for perceptually uniform color representation. Dark mode variants reduce lightness by 5% and chroma by 0.02 for consistent visual hierarchy.
          </p>

          <!-- Primary Accent Colors -->
          <h3 class="font-heading text-xl font-semibold mb-4 mt-8">Primary Accent Colors</h3>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
            <TokenSwatch
              name="Yellow"
              cssVar="--color-yellow"
              oklch="oklch(0.85 0.18 95)"
              hex="#ffef6a"
              darkOklch="oklch(0.80 0.16 95)"
              darkHex="#f5e03b"
            />
            <TokenSwatch
              name="Turquoise"
              cssVar="--color-turquoise"
              oklch="oklch(0.70 0.15 195)"
              hex="#4dd4c0"
              darkOklch="oklch(0.65 0.13 195)"
              darkHex="#2dbfaa"
            />
            <TokenSwatch
              name="Magenta"
              cssVar="--color-magenta"
              oklch="oklch(0.65 0.20 350)"
              hex="#d946ef"
              darkOklch="oklch(0.60 0.18 350)"
              darkHex="#c026d3"
            />
          </div>

          <!-- Text Color Variants -->
          <h3 class="font-heading text-xl font-semibold mb-4 mt-8">Text Color Variants (WCAG Compliant)</h3>
          <p class="text-sm text-text-muted-light dark:text-text-muted-dark mb-4">
            Adjusted for sufficient contrast on light/dark backgrounds to meet accessibility standards.
          </p>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <TokenSwatch
              name="Yellow Text"
              cssVar="--color-yellow-text"
              oklch="oklch(0.55 0.15 95)"
              hex="#b3a617"
              darkOklch="oklch(0.85 0.18 95)"
              darkHex="#ffef6a"
            />
            <TokenSwatch
              name="Turquoise Text"
              cssVar="--color-turquoise-text"
              oklch="oklch(0.45 0.12 195)"
              hex="#0d8577"
              darkOklch="oklch(0.70 0.15 195)"
              darkHex="#4dd4c0"
            />
          </div>

          <!-- Neutral Colors -->
          <h3 class="font-heading text-xl font-semibold mb-4 mt-8">Neutral Colors</h3>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
            <TokenSwatch
              name="Background Light"
              cssVar="--color-bg-light"
              oklch="oklch(1.0 0 0)"
              hex="#ffffff"
            />
            <TokenSwatch
              name="Background Dark"
              cssVar="--color-bg-dark"
              oklch="oklch(0.15 0 0)"
              hex="#1a1a1a"
            />
            <TokenSwatch
              name="Text Light"
              cssVar="--color-text-light"
              oklch="oklch(0.2 0 0)"
              hex="#2b2b2b"
            />
            <TokenSwatch
              name="Text Dark"
              cssVar="--color-text-dark"
              oklch="oklch(0.95 0 0)"
              hex="#f2f2f2"
            />
            <TokenSwatch
              name="Text Muted Light"
              cssVar="--color-text-muted-light"
              oklch="oklch(0.5 0 0)"
              hex="#808080"
            />
            <TokenSwatch
              name="Text Muted Dark"
              cssVar="--color-text-muted-dark"
              oklch="oklch(0.7 0 0)"
              hex="#b3b3b3"
            />
          </div>

          <!-- Usage Guidelines -->
          <h3 class="font-heading text-xl font-semibold mb-4 mt-8">Usage Guidelines</h3>
          <div class="bg-yellow/10 dark:bg-yellow-dark/10 border-3 border-yellow dark:border-yellow-dark rounded-lg p-6 space-y-4">
            <div>
              <h4 class="font-heading font-semibold mb-2">Yellow</h4>
              <p class="text-sm text-text-muted-light dark:text-text-muted-dark">
                Primary CTA buttons, hero accents, important highlights. High energy and attention-grabbing.
              </p>
            </div>
            <div>
              <h4 class="font-heading font-semibold mb-2">Turquoise</h4>
              <p class="text-sm text-text-muted-light dark:text-text-muted-dark">
                Secondary actions, card shadows/glows, section accents. Calm and modern, supports hierarchy.
              </p>
            </div>
            <div>
              <h4 class="font-heading font-semibold mb-2">Magenta</h4>
              <p class="text-sm text-text-muted-light dark:text-text-muted-dark">
                Tertiary accents, hover states, decorative elements. Creative and energetic, use sparingly.
              </p>
            </div>
            <div>
              <h4 class="font-heading font-semibold mb-2">Dark Mode Transformation</h4>
              <p class="text-sm text-text-muted-light dark:text-text-muted-dark">
                All dark mode variants reduce lightness (L) by 5% and chroma (C) by 0.02. Shadows transform to glows using the same color values for futuristic dark mode feel.
              </p>
            </div>
          </div>
        </section>

        <!-- Typography Section -->
        <section id="typography" class="mb-16">
          <h2 class="font-heading text-3xl font-bold uppercase mb-6 border-l-4 border-turquoise dark:border-turquoise-dark pl-4">
            Typography
          </h2>
          <p class="text-lg leading-relaxed mb-6 text-text-muted-light dark:text-text-muted-dark">
            Two-tier typography system using <strong>Bricolage Grotesque</strong> for headings and <strong>DM Sans</strong> for body text. All sizes follow a 1.25 ratio scale.
          </p>

          <!-- Font Specimens -->
          <h3 id="typography-families" class="font-heading text-xl font-semibold mb-4 mt-8">Font Families</h3>

          <!-- Bricolage Grotesque -->
          <div class="border-3 border-text-light dark:border-text-dark rounded-lg p-6 mb-6 bg-bg-light dark:bg-bg-dark shadow-neo-turquoise dark:shadow-neo-turquoise">
            <h4 class="font-heading text-lg font-semibold mb-3">Bricolage Grotesque</h4>
            <p class="text-sm text-text-muted-light dark:text-text-muted-dark mb-4">
              CSS Variable: <code class="font-mono text-xs bg-bg-dark/5 dark:bg-bg-light/5 px-2 py-1 rounded">var(--font-heading)</code>
            </p>
            <div class="space-y-3 mb-4">
              <p class="font-heading text-2xl">ABCDEFGHIJKLMNOPQRSTUVWXYZ</p>
              <p class="font-heading text-2xl">abcdefghijklmnopqrstuvwxyz</p>
              <p class="font-heading text-2xl">0123456789</p>
            </div>
            <div class="space-y-2">
              <p class="text-sm text-text-muted-light dark:text-text-muted-dark mb-1">Weight Examples:</p>
              <p class="font-heading text-lg font-semibold">Weight 600 (Semibold) — H3, H4</p>
              <p class="font-heading text-lg font-bold">Weight 700 (Bold) — H2</p>
              <p class="font-heading text-lg" style="font-weight: 800;">Weight 800 (Extrabold) — H1, Buttons, Labels</p>
            </div>
            <p class="text-sm text-text-muted-light dark:text-text-muted-dark mt-4">
              <strong>Usage:</strong> All headings (H1-H4), buttons, labels, section titles
            </p>
          </div>

          <!-- DM Sans -->
          <div class="border-3 border-text-light dark:border-text-dark rounded-lg p-6 mb-6 bg-bg-light dark:bg-bg-dark shadow-neo-turquoise dark:shadow-neo-turquoise">
            <h4 class="font-heading text-lg font-semibold mb-3">DM Sans</h4>
            <p class="text-sm text-text-muted-light dark:text-text-muted-dark mb-4">
              CSS Variable: <code class="font-mono text-xs bg-bg-dark/5 dark:bg-bg-light/5 px-2 py-1 rounded">var(--font-body)</code>
            </p>
            <div class="space-y-3 mb-4">
              <p class="font-body text-2xl">ABCDEFGHIJKLMNOPQRSTUVWXYZ</p>
              <p class="font-body text-2xl">abcdefghijklmnopqrstuvwxyz</p>
              <p class="font-body text-2xl">0123456789</p>
            </div>
            <div class="space-y-2">
              <p class="text-sm text-text-muted-light dark:text-text-muted-dark mb-1">Weight Examples:</p>
              <p class="font-body text-lg font-normal">Weight 400 (Regular) — Body text, paragraphs</p>
              <p class="font-body text-lg font-medium">Weight 500 (Medium) — Emphasized text</p>
              <p class="font-body text-lg font-semibold">Weight 600 (Semibold) — Strong emphasis</p>
            </div>
            <p class="text-sm text-text-muted-light dark:text-text-muted-dark mt-4">
              <strong>Usage:</strong> Body text, paragraphs, form inputs, navigation, captions
            </p>
          </div>

          <!-- Type Scale -->
          <h3 id="typography-scale" class="font-heading text-xl font-semibold mb-4 mt-8">Type Scale</h3>
          <p class="text-sm text-text-muted-light dark:text-text-muted-dark mb-4">
            1.25 ratio scale for consistent vertical rhythm.
          </p>

          <div class="space-y-4">
            <!-- XS -->
            <div class="border-3 border-text-light dark:border-text-dark rounded-lg p-4 bg-bg-light dark:bg-bg-dark">
              <div class="grid grid-cols-1 md:grid-cols-[120px_1fr] gap-4 items-center">
                <div>
                  <p class="font-heading font-semibold text-sm">xs</p>
                  <p class="text-xs text-text-muted-light dark:text-text-muted-dark">0.75rem (12px)</p>
                </div>
                <p class="text-xs">The quick brown fox jumps over the lazy dog</p>
              </div>
            </div>

            <!-- SM -->
            <div class="border-3 border-text-light dark:border-text-dark rounded-lg p-4 bg-bg-light dark:bg-bg-dark">
              <div class="grid grid-cols-1 md:grid-cols-[120px_1fr] gap-4 items-center">
                <div>
                  <p class="font-heading font-semibold text-sm">sm</p>
                  <p class="text-xs text-text-muted-light dark:text-text-muted-dark">0.875rem (14px)</p>
                </div>
                <p class="text-sm">The quick brown fox jumps over the lazy dog</p>
              </div>
            </div>

            <!-- Base -->
            <div class="border-3 border-text-light dark:border-text-dark rounded-lg p-4 bg-bg-light dark:bg-bg-dark">
              <div class="grid grid-cols-1 md:grid-cols-[120px_1fr] gap-4 items-center">
                <div>
                  <p class="font-heading font-semibold text-sm">base</p>
                  <p class="text-xs text-text-muted-light dark:text-text-muted-dark">1rem (16px)</p>
                </div>
                <p class="text-base">The quick brown fox jumps over the lazy dog</p>
              </div>
            </div>

            <!-- LG -->
            <div class="border-3 border-text-light dark:border-text-dark rounded-lg p-4 bg-bg-light dark:bg-bg-dark">
              <div class="grid grid-cols-1 md:grid-cols-[120px_1fr] gap-4 items-center">
                <div>
                  <p class="font-heading font-semibold text-sm">lg</p>
                  <p class="text-xs text-text-text-muted-light dark:text-text-muted-dark">1.125rem (18px)</p>
                </div>
                <p class="text-lg">The quick brown fox jumps over the lazy dog</p>
              </div>
            </div>

            <!-- XL -->
            <div class="border-3 border-text-light dark:border-text-dark rounded-lg p-4 bg-bg-light dark:bg-bg-dark">
              <div class="grid grid-cols-1 md:grid-cols-[120px_1fr] gap-4 items-center">
                <div>
                  <p class="font-heading font-semibold text-sm">xl</p>
                  <p class="text-xs text-text-muted-light dark:text-text-muted-dark">1.25rem (20px)</p>
                </div>
                <p class="text-xl">The quick brown fox jumps over the lazy dog</p>
              </div>
            </div>

            <!-- 2XL -->
            <div class="border-3 border-text-light dark:border-text-dark rounded-lg p-4 bg-bg-light dark:bg-bg-dark">
              <div class="grid grid-cols-1 md:grid-cols-[120px_1fr] gap-4 items-center">
                <div>
                  <p class="font-heading font-semibold text-sm">2xl</p>
                  <p class="text-xs text-text-muted-light dark:text-text-muted-dark">1.5rem (24px)</p>
                </div>
                <p class="text-2xl">The quick brown fox jumps over the lazy dog</p>
              </div>
            </div>

            <!-- 3XL -->
            <div class="border-3 border-text-light dark:border-text-dark rounded-lg p-4 bg-bg-light dark:bg-bg-dark">
              <div class="grid grid-cols-1 md:grid-cols-[120px_1fr] gap-4 items-center">
                <div>
                  <p class="font-heading font-semibold text-sm">3xl</p>
                  <p class="text-xs text-text-muted-light dark:text-text-muted-dark">1.875rem (30px)</p>
                </div>
                <p class="text-3xl">The quick brown fox jumps over the lazy dog</p>
              </div>
            </div>

            <!-- 4XL -->
            <div class="border-3 border-text-light dark:border-text-dark rounded-lg p-4 bg-bg-light dark:bg-bg-dark">
              <div class="grid grid-cols-1 md:grid-cols-[120px_1fr] gap-4 items-center">
                <div>
                  <p class="font-heading font-semibold text-sm">4xl</p>
                  <p class="text-xs text-text-muted-light dark:text-text-muted-dark">2.25rem (36px)</p>
                </div>
                <p class="text-4xl">The quick brown fox jumps over the lazy dog</p>
              </div>
            </div>
          </div>

          <!-- Font Weight Tokens -->
          <h3 class="font-heading text-xl font-semibold mb-4 mt-8">Font Weight Tokens</h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
            <div class="border-3 border-text-light dark:border-text-dark rounded-lg p-4 bg-bg-light dark:bg-bg-dark">
              <code class="font-mono text-xs bg-bg-dark/5 dark:bg-bg-light/5 px-2 py-1 rounded">--font-weight-h1: 800</code>
              <p class="text-sm text-text-muted-light dark:text-text-muted-dark mt-2">Extrabold — H1 headings</p>
            </div>
            <div class="border-3 border-text-light dark:border-text-dark rounded-lg p-4 bg-bg-light dark:bg-bg-dark">
              <code class="font-mono text-xs bg-bg-dark/5 dark:bg-bg-light/5 px-2 py-1 rounded">--font-weight-h2: 700</code>
              <p class="text-sm text-text-muted-light dark:text-text-muted-dark mt-2">Bold — H2 headings</p>
            </div>
            <div class="border-3 border-text-light dark:border-text-dark rounded-lg p-4 bg-bg-light dark:bg-bg-dark">
              <code class="font-mono text-xs bg-bg-dark/5 dark:bg-bg-light/5 px-2 py-1 rounded">--font-weight-h3: 600</code>
              <p class="text-sm text-text-muted-light dark:text-text-muted-dark mt-2">Semibold — H3 headings</p>
            </div>
            <div class="border-3 border-text-light dark:border-text-dark rounded-lg p-4 bg-bg-light dark:bg-bg-dark">
              <code class="font-mono text-xs bg-bg-dark/5 dark:bg-bg-light/5 px-2 py-1 rounded">--font-weight-h4: 500</code>
              <p class="text-sm text-text-muted-light dark:text-text-muted-dark mt-2">Medium — H4 headings</p>
            </div>
            <div class="border-3 border-text-light dark:border-text-dark rounded-lg p-4 bg-bg-light dark:bg-bg-dark">
              <code class="font-mono text-xs bg-bg-dark/5 dark:bg-bg-light/5 px-2 py-1 rounded">--font-weight-body: 400</code>
              <p class="text-sm text-text-muted-light dark:text-text-muted-dark mt-2">Regular — Body text</p>
            </div>
          </div>

          <!-- Line Height Tokens -->
          <h3 class="font-heading text-xl font-semibold mb-4 mt-8">Line Height Tokens</h3>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div class="border-3 border-text-light dark:border-text-dark rounded-lg p-4 bg-bg-light dark:bg-bg-dark">
              <code class="font-mono text-xs bg-bg-dark/5 dark:bg-bg-light/5 px-2 py-1 rounded">--leading-tight: 1.25</code>
              <p class="text-sm text-text-muted-light dark:text-text-muted-dark mt-2">Headings, labels</p>
            </div>
            <div class="border-3 border-text-light dark:border-text-dark rounded-lg p-4 bg-bg-light dark:bg-bg-dark">
              <code class="font-mono text-xs bg-bg-dark/5 dark:bg-bg-light/5 px-2 py-1 rounded">--leading-normal: 1.5</code>
              <p class="text-sm text-text-muted-light dark:text-text-muted-dark mt-2">Body text default</p>
            </div>
            <div class="border-3 border-text-light dark:border-text-dark rounded-lg p-4 bg-bg-light dark:bg-bg-dark">
              <code class="font-mono text-xs bg-bg-dark/5 dark:bg-bg-light/5 px-2 py-1 rounded">--leading-relaxed: 1.75</code>
              <p class="text-sm text-text-muted-light dark:text-text-muted-dark mt-2">Long-form content</p>
            </div>
          </div>
        </section>

        <!-- Components Section -->
        <section id="components" class="mb-16">
          <h2 class="font-heading text-3xl font-bold uppercase mb-6 border-l-4 border-turquoise dark:border-turquoise-dark pl-4">
            Components
          </h2>

          <!-- Button Component -->
          <div id="component-button" class="mb-12">
            <h3 class="font-heading text-2xl font-semibold mb-4">
              Button
            </h3>
            <p class="text-text-muted-light dark:text-text-muted-dark mb-4">
              Button component documentation will be added here.
            </p>
          </div>

          <!-- Card Component -->
          <div id="component-card" class="mb-12">
            <h3 class="font-heading text-2xl font-semibold mb-4">
              Card
            </h3>
            <p class="text-text-muted-light dark:text-text-muted-dark mb-4">
              Card component documentation will be added here.
            </p>
          </div>

          <!-- Input Component -->
          <div id="component-input" class="mb-12">
            <h3 class="font-heading text-2xl font-semibold mb-4">
              Input
            </h3>
            <p class="text-text-muted-light dark:text-text-muted-dark mb-4">
              Input component documentation will be added here.
            </p>
          </div>

          <!-- Badge Component -->
          <div id="component-badge" class="mb-12">
            <h3 class="font-heading text-2xl font-semibold mb-4">
              Badge
            </h3>
            <p class="text-text-muted-light dark:text-text-muted-dark mb-4">
              Badge component documentation will be added here.
            </p>
          </div>
        </section>

        <!-- Utilities Section -->
        <section id="utilities" class="mb-16">
          <h2 class="font-heading text-3xl font-bold uppercase mb-6 border-l-4 border-turquoise dark:border-turquoise-dark pl-4">
            Utilities
          </h2>

          <!-- Isometric Shadow -->
          <div id="utility-iso-shadow" class="mb-12">
            <h3 class="font-heading text-2xl font-semibold mb-4">
              Isometric Shadow
            </h3>
            <p class="text-text-muted-light dark:text-text-muted-dark mb-4">
              Isometric shadow utility documentation will be added here.
            </p>
          </div>

          <!-- Isometric Glow -->
          <div id="utility-iso-glow" class="mb-12">
            <h3 class="font-heading text-2xl font-semibold mb-4">
              Isometric Glow
            </h3>
            <p class="text-text-muted-light dark:text-text-muted-dark mb-4">
              Isometric glow utility documentation will be added here.
            </p>
          </div>

          <!-- Isometric Rotate -->
          <div id="utility-iso-rotate" class="mb-12">
            <h3 class="font-heading text-2xl font-semibold mb-4">
              Isometric Rotate
            </h3>
            <p class="text-text-muted-light dark:text-text-muted-dark mb-4">
              Isometric rotate utility documentation will be added here.
            </p>
          </div>
        </section>
      </main>
    </div>
  </div>
</BaseLayout>
