---
phase: 01-foundation-design-system
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - astro.config.mjs
  - tsconfig.json
  - src/styles/global.css
  - src/env.d.ts
  - .github/workflows/deploy.yml
  - .gitignore
autonomous: true

must_haves:
  truths:
    - "npm run dev starts local server with hot reload"
    - "Tailwind classes compile and apply to elements"
    - "Design tokens (colors, fonts) are available as CSS variables"
    - "GitHub Actions workflow exists for deployment"
  artifacts:
    - path: "package.json"
      provides: "Project dependencies and scripts"
      contains: "astro"
    - path: "astro.config.mjs"
      provides: "Astro configuration with Tailwind vite plugin"
      contains: "@tailwindcss/vite"
    - path: "src/styles/global.css"
      provides: "Tailwind imports and design tokens"
      contains: "@theme"
    - path: ".github/workflows/deploy.yml"
      provides: "GitHub Pages deployment workflow"
      contains: "withastro/action"
  key_links:
    - from: "astro.config.mjs"
      to: "@tailwindcss/vite"
      via: "vite plugins array"
      pattern: "tailwindcss\\(\\)"
    - from: "src/styles/global.css"
      to: "Tailwind"
      via: "@import statement"
      pattern: "@import.*tailwindcss"
---

<objective>
Initialize Astro project with Tailwind CSS v4 and create the design system foundation.

Purpose: Establish the technical infrastructure that all subsequent phases will build upon. This is the foundation - without a working dev environment and design tokens, nothing else can proceed.

Output: Working Astro project with Tailwind v4 integration, brand design tokens (colors, typography), and GitHub Actions deployment workflow.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-design-system/01-RESEARCH.md
@.planning/phases/01-foundation-design-system/01-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize Astro project with Tailwind v4</name>
  <files>
    package.json
    astro.config.mjs
    tsconfig.json
    src/env.d.ts
    .gitignore
  </files>
  <action>
Create a new Astro project in the current directory (NOT a subdirectory). Use npm create astro@latest with the --template minimal flag to get a clean starting point.

After initialization:
1. Install Tailwind CSS v4 and the Vite plugin: `npm install tailwindcss @tailwindcss/vite`
2. Configure astro.config.mjs to use the Tailwind Vite plugin (NOT @astrojs/tailwind - that's deprecated for v4)

astro.config.mjs should look like:
```javascript
import { defineConfig } from "astro/config";
import tailwindcss from "@tailwindcss/vite";

export default defineConfig({
  site: 'https://joel-shinness.github.io',
  // base: '/joel-shinness-website', // Uncomment if not using custom domain
  vite: {
    plugins: [tailwindcss()],
  },
});
```

IMPORTANT: Do NOT create a tailwind.config.js file. Tailwind v4 uses CSS-first configuration via @theme directive.
  </action>
  <verify>
Run `npm run dev` and confirm server starts without errors. Visit http://localhost:4321 and see the default page.
  </verify>
  <done>
Astro dev server runs on localhost:4321 with hot reload working.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create design tokens in global.css</name>
  <files>
    src/styles/global.css
  </files>
  <action>
Create src/styles/global.css with Tailwind v4 imports and brand design tokens using the @theme directive.

Design tokens to define (per CONTEXT.md decisions):
- **Yellow accent** (primary): Warm, energetic for CTAs and links. Use oklch color space.
- **Teal accent** (secondary): Calm, complementary. Use oklch color space.
- **Background colors**: Pure white (#ffffff) for light mode, near-black (#0a0a0a) for dark mode
- **Text colors**: Near-black for light mode, near-white for dark mode, plus muted variants
- **Typography**:
  - Headings: Poppins (bold, friendly, rounded) via Google Fonts
  - Body: Inter (readable, clean) via Google Fonts

global.css structure:
```css
@import "tailwindcss";

@theme {
  /* Yellow accent - warm, energetic for CTAs */
  --color-accent-yellow: oklch(0.85 0.18 85);
  --color-accent-yellow-hover: oklch(0.80 0.20 85);

  /* Teal accent - calm, complementary */
  --color-accent-teal: oklch(0.65 0.15 180);
  --color-accent-teal-hover: oklch(0.60 0.17 180);

  /* Backgrounds - pure contrast */
  --color-bg-light: #ffffff;
  --color-bg-dark: #0a0a0a;

  /* Text colors */
  --color-text-light: #171717;
  --color-text-dark: #fafafa;
  --color-text-muted-light: #525252;
  --color-text-muted-dark: #a3a3a3;

  /* Typography */
  --font-heading: 'Poppins', system-ui, sans-serif;
  --font-body: 'Inter', system-ui, sans-serif;
}

/* Dark mode variant for class-based toggle */
@custom-variant dark (&:where(.dark, .dark *));
```

The colors will be available as Tailwind classes like `bg-accent-yellow`, `text-accent-teal`, etc.
  </action>
  <verify>
File exists at src/styles/global.css. Contains @import "tailwindcss" and @theme directive with color and font variables.
  </verify>
  <done>
Design tokens defined and ready for use in components. Tailwind will generate utility classes from these tokens.
  </done>
</task>

<task type="auto">
  <name>Task 3: Add GitHub Actions deployment workflow</name>
  <files>
    .github/workflows/deploy.yml
  </files>
  <action>
Create .github/workflows/deploy.yml for automated deployment to GitHub Pages.

Use the official withastro/action@v5 for building and actions/deploy-pages@v4 for deployment.

Workflow should:
1. Trigger on push to main branch and manual workflow_dispatch
2. Use ubuntu-latest runner
3. Checkout code with actions/checkout@v5
4. Build with withastro/action@v5 (handles node setup and npm install automatically)
5. Deploy with actions/deploy-pages@v4

Required permissions:
- contents: read
- pages: write
- id-token: write

Use concurrency group to prevent concurrent deployments.

```yaml
name: Deploy to GitHub Pages

on:
  push:
    branches: [main]
  workflow_dispatch:

permissions:
  contents: read
  pages: write
  id-token: write

concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v5
      - name: Build with Astro
        uses: withastro/action@v5

  deploy:
    needs: build
    runs-on: ubuntu-latest
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
```
  </action>
  <verify>
File exists at .github/workflows/deploy.yml. YAML is valid (no syntax errors).
  </verify>
  <done>
GitHub Actions workflow ready. Will deploy to GitHub Pages automatically when pushed to main branch.
  </done>
</task>

</tasks>

<verification>
After completing all tasks:
1. `npm run dev` starts server without errors
2. Server responds at http://localhost:4321
3. src/styles/global.css exists with @theme tokens
4. .github/workflows/deploy.yml exists with correct structure
5. No tailwind.config.js file exists (using CSS-first approach)
</verification>

<success_criteria>
- Astro dev server runs with hot reload
- Tailwind v4 is installed and configured via Vite plugin
- Design tokens defined in CSS (not JavaScript config)
- GitHub Actions workflow ready for deployment
- Project follows Tailwind v4 CSS-first patterns (no tailwind.config.js)
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-design-system/01-01-SUMMARY.md`
</output>
