---
phase: 22-footer-enhancement
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - src/components/layout/Footer.astro
  - tests/accessibility/axe-tests.spec.ts
autonomous: true

must_haves:
  truths:
    - "User sees Instagram and Substack social icons in footer"
    - "User can navigate to Blog, Projects, FAQ, Contact from footer"
    - "Social icons have 44x44px minimum touch targets"
    - "Screen reader users hear descriptive aria-labels for social links"
    - "All footer elements pass axe-core accessibility validation"
  artifacts:
    - path: "src/components/layout/Footer.astro"
      provides: "Enhanced footer with social icons and navigation"
      contains: "simple-icons-astro"
    - path: "package.json"
      provides: "simple-icons-astro dependency"
      contains: "simple-icons-astro"
  key_links:
    - from: "src/components/layout/Footer.astro"
      to: "simple-icons-astro"
      via: "import statement"
      pattern: "import.*simple-icons-astro"
    - from: "Footer social links"
      to: "WCAG 2.5.5"
      via: "min-w-[44px] min-h-[44px]"
      pattern: "min-w-\\[44px\\].*min-h-\\[44px\\]"
---

<objective>
Add Instagram and Substack social icons with secondary navigation to the footer.

Purpose: Complete v1.3 milestone with accessible footer containing social links (encourages follows) and secondary navigation (mirrors header for discoverability).
Output: Enhanced Footer.astro with social icons at top, bullet-separated navigation, and WCAG 2.2 AA accessibility compliance.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/22-footer-enhancement/22-CONTEXT.md
@.planning/phases/22-footer-enhancement/22-RESEARCH.md

# Existing files to reference
@src/components/layout/Footer.astro
@src/components/layout/Header.astro
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install simple-icons-astro package</name>
  <files>package.json</files>
  <action>
Install simple-icons-astro package for Instagram and Substack brand icons.

```bash
npm install simple-icons-astro
```

Lucide's Instagram icon is DEPRECATED - do NOT use it. simple-icons-astro provides maintained brand icons.

After installation, verify the package includes Instagram and Substack exports:
- `import { SiInstagram, SiSubstack } from 'simple-icons-astro'`
</action>
  <verify>`npm ls simple-icons-astro` shows installed version. Check exports exist with `grep -r "SiInstagram\|SiSubstack" node_modules/simple-icons-astro/dist/` or verify import works in a test file.</verify>
  <done>simple-icons-astro appears in package.json dependencies and provides SiInstagram and SiSubstack exports.</done>
</task>

<task type="auto">
  <name>Task 2: Enhance Footer.astro with social icons and navigation</name>
  <files>src/components/layout/Footer.astro</files>
  <action>
Restructure Footer.astro with the following visual hierarchy (from CONTEXT.md decisions):

**Structure (top to bottom):**
1. Social icons section (most prominent, encourages follows)
2. Secondary navigation section (mirrors header)
3. Copyright section (minimal weight)

**Social Icons (positioned first, centered):**
- Import SiInstagram and SiSubstack from simple-icons-astro
- Remove any existing GitHub and LinkedIn icons from footer (per CONTEXT.md - only Instagram and Substack)
- Display Instagram and Substack side by side, horizontally centered
- Plain icons matching text color (no containers/backgrounds)
- Gap of 24-32px between icons (use gap-6 or gap-8)
- Each icon wrapped in `<a>` with:
  - 24px visual size (size={24} prop)
  - 44x44px touch target via `inline-flex items-center justify-center min-w-[44px] min-h-[44px]`
  - Proper aria-label: "Follow Joel on Instagram (opens in new tab)" / "Follow Joel on Substack (opens in new tab)"
  - target="_blank" rel="noopener noreferrer"
  - Focus indicator: `focus-visible:outline-none focus-visible:shadow-[0_0_0_2px_var(--color-bg-light),0_0_0_6px_var(--color-text-light)] dark:focus-visible:shadow-[0_0_0_2px_var(--color-bg-dark),0_0_0_6px_var(--color-text-dark)]`
  - Color: `text-text-muted-light dark:text-text-muted-dark hover:text-turquoise transition-colors`

**Navigation (after social icons):**
- Horizontal row: Blog, Projects, FAQ, Contact (same order as header)
- Bullet separators (middle dot ·) between links with `aria-hidden="true"`
- Container: `<nav aria-label="Footer navigation" class="flex items-center justify-center gap-4 flex-wrap mb-6">`
- Each link uses same styling as header nav:
  - `font-heading font-bold text-text-light dark:text-text-dark hover:text-accent-yellow transition-colors`
  - Same focus-visible pattern as social icons
- Contact link goes to `/#contact` (not /contact)
- Separator styling: `text-text-muted-light dark:text-text-muted-dark`

**Copyright section (bottom, minimal):**
- Keep existing copyright and "Built with Astro" structure
- This section moves to bottom (currently at top)
- Smallest text, minimal visual weight

**Placeholder URLs:**
- Instagram: `https://instagram.com/joelshinness` (placeholder)
- Substack: `https://joelshinness.substack.com` (placeholder)
</action>
  <verify>
1. `npm run build` succeeds without errors
2. `npm run dev` and visually confirm footer structure: social icons at top, navigation in middle, copyright at bottom
3. Inspect social icon links in browser devtools - confirm bounding box is at least 44x44px
4. Tab through footer elements - confirm focus indicators appear on all interactive elements
</verify>
  <done>
Footer displays Instagram and Substack icons at top (centered, 44x44px touch targets), followed by bullet-separated navigation (Blog · Projects · FAQ · Contact), followed by copyright section. All elements have proper focus indicators and aria-labels.
</done>
</task>

<task type="auto">
  <name>Task 3: Update accessibility tests and validate</name>
  <files>tests/accessibility/axe-tests.spec.ts</files>
  <action>
Update the accessibility test file to handle the /contact redirect and validate the enhanced footer:

1. **Remove or update contact page test:**
   - The /contact page now redirects to /#contact (Phase 21 change)
   - Either remove the "Contact page should not have accessibility violations" test OR update it to test `/#contact` (homepage with hash)
   - Recommended: Remove the contact page test since homepage test already covers /#contact section

2. **Run full accessibility test suite:**
   ```bash
   npm run test:a11y
   ```
   - All tests should pass with zero axe-core violations
   - The enhanced footer is tested as part of every page test (it's in BaseLayout)

3. **If any violations occur:**
   - Fix the specific issue in Footer.astro
   - Re-run tests until all pass
</action>
  <verify>
1. `npm run test:a11y` completes with all tests passing (0 failures)
2. No axe-core WCAG 2.2 AA violations reported
3. Test output shows homepage, projects, blog, about pages tested successfully
</verify>
  <done>
Accessibility tests pass with zero violations. The /contact test is either removed or updated to handle the redirect. Footer elements (social icons, navigation) are implicitly validated through page-level axe-core tests.
</done>
</task>

</tasks>

<verification>
Run the following to confirm phase completion:

```bash
# Build succeeds
npm run build

# All accessibility tests pass
npm run test:a11y

# Lighthouse CI passes (if configured)
npm run build && npx lhci autorun
```

Manual verification:
1. Visit http://localhost:4321 - footer shows Instagram and Substack icons at top
2. Icons are clearly tappable (44x44px targets)
3. Navigation shows "Blog · Projects · FAQ · Contact"
4. Tab through footer - focus indicators visible on all links
5. Screen reader test: social icons announce "Follow Joel on Instagram (opens in new tab)"
</verification>

<success_criteria>
1. Instagram and Substack social icons visible in footer with 44x44px touch targets
2. Footer navigation contains Blog, Projects, FAQ, Contact with bullet separators
3. Screen reader announces proper aria-labels for social links
4. All axe-core accessibility tests pass (zero violations)
5. Visual hierarchy: social icons most prominent, copyright least prominent
</success_criteria>

<output>
After completion, create `.planning/phases/22-footer-enhancement/22-01-SUMMARY.md`
</output>
