---
phase: 19-component-migration
plan: 04
type: execute
wave: 3
depends_on: ["19-02", "19-03"]
files_modified:
  - src/pages/projects/[slug].astro
  - src/components/homepage/ContactSection.astro
  - src/components/homepage/Hero.astro
autonomous: true

must_haves:
  truths:
    - "Portfolio detail category badge uses Badge component"
    - "Portfolio detail tech badges use consistent neobrutalist styling"
    - "ContactSection textarea uses Input component with as='textarea'"
    - "Hero section badge-like element uses Badge component"
    - "All migrated elements have WCAG 2.4.13 focus states"
  artifacts:
    - path: "src/pages/projects/[slug].astro"
      provides: "Badge-based category and tech display"
      contains: "import Badge from"
    - path: "src/components/homepage/ContactSection.astro"
      provides: "Input-based textarea"
      contains: "as=\"textarea\""
    - path: "src/components/homepage/Hero.astro"
      provides: "Badge component usage"
      contains: "import Badge from"
  key_links:
    - from: "projects/[slug].astro"
      to: "Badge component"
      via: "component usage"
      pattern: "<Badge"
    - from: "ContactSection.astro"
      to: "Input component"
      via: "textarea rendering"
      pattern: "as=\"textarea\""
    - from: "Hero.astro"
      to: "Badge component"
      via: "component wrapper for metrics/label"
      pattern: "<Badge"
---

<objective>
Migrate remaining HIGH priority items: portfolio detail badges, homepage ContactSection textarea, and Hero section badge.

Purpose: Complete HIGH severity migration. Portfolio detail badges affect every project page. ContactSection textarea is the homepage contact form's main input. Hero badge is a HIGH priority finding affecting the Homepage.

Output: Portfolio badges using Badge component; ContactSection textarea using Input component; Hero badge using Badge component.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/AUDIT.md
@.planning/phases/19-component-migration/19-CONTEXT.md
@.planning/phases/19-component-migration/19-01-SUMMARY.md
@.planning/phases/19-component-migration/19-02-SUMMARY.md

@src/pages/projects/[slug].astro
@src/components/homepage/ContactSection.astro
@src/components/homepage/Hero.astro
@src/components/ui/Badge.astro
@src/components/ui/Input.astro
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate Portfolio detail category badge</name>
  <files>src/pages/projects/[slug].astro</files>
  <action>
Import Badge component in frontmatter.

Replace inline category badge (line 37) with Badge component:

Current:
```astro
<span class="inline-block px-4 py-2 text-sm font-bold rounded-full border-[3px] border-text-light dark:border-text-dark bg-yellow dark:bg-yellow-dark text-text-light">
  {project.categoryLabel}
</span>
```

Replace with:
```astro
<Badge
  label={`Project category: ${project.categoryLabel}`}
  value={project.categoryLabel}
  variant="yellow"
  class="rounded-full"
/>
```

The Badge component already provides:
- border-[3px] styling
- iso-shadow
- role="group" and aria-label for accessibility
- Dark mode support

Note: Badge default styling might not include rounded-full, so pass it via class prop.
  </action>
  <verify>
Run `npm run dev` and visit any project detail page (e.g., /projects/smart-schedule).
Verify category badge displays correctly with proper styling and shadow.
  </verify>
  <done>
Category badge uses Badge component with proper accessibility attributes.
  </done>
</task>

<task type="auto">
  <name>Task 2: Migrate Portfolio detail tech badges</name>
  <files>src/pages/projects/[slug].astro</files>
  <action>
The technology badges (lines 129-133) use similar styling to Badge but display simpler content.

Option A: Use Badge component for each tech:
```astro
<div class="flex flex-wrap gap-3">
  {project.technologies.map((tech) => (
    <Badge
      label={`Technology: ${tech}`}
      value={tech}
      variant="turquoise"
      class="rounded-full text-sm"
    />
  ))}
</div>
```

Option B: Keep simpler inline styling if Badge component is too heavy for this use case.

Choose Option A for consistency - Badge provides proper semantic markup and accessibility.

Adjust Badge styling if needed:
- Smaller padding for tech badges
- No description text (just value)
  </action>
  <verify>
Run `npm run dev` and visit any project detail page.
Verify "Built With" section shows all technologies with consistent Badge styling.
  </verify>
  <done>
Technology badges use Badge component or consistent design system styling.
  </done>
</task>

<task type="auto">
  <name>Task 3: Migrate ContactSection textarea to Input component</name>
  <files>src/components/homepage/ContactSection.astro</files>
  <action>
The ContactSection already imports Input component but uses raw textarea (lines 51-65).

Replace raw textarea with Input component using as="textarea":

Current:
```astro
<div class="input-wrapper">
  <label for="message" class="...">Message *</label>
  <textarea id="message" name="message" required rows={6} ...></textarea>
</div>
```

Replace with:
```astro
<Input
  as="textarea"
  variant="turquoise"
  label="Message *"
  id="message"
  name="message"
  required
  rows={6}
  placeholder="Tell me about your project..."
/>
```

Remove the custom textarea focus styling from the `<style>` block (lines 104-112) since Input component handles it.

Verify the form layout is preserved - Input component should work within the existing grid.
  </action>
  <verify>
Run `npm run dev` and visit homepage, scroll to contact section.
Verify textarea has:
- Proper label
- WCAG 2.4.13 focus state (double ring)
- Turquoise accent on focus
- Same styling as other form fields
  </verify>
  <done>
ContactSection textarea uses Input component with as="textarea" prop.
  </done>
</task>

<task type="auto">
  <name>Task 4: Migrate Hero section badge to Badge component</name>
  <files>src/components/homepage/Hero.astro</files>
  <action>
The Hero section (line 9 per AUDIT.md) uses a raw badge-like div instead of the Badge component:

Current (approximately):
```astro
<div class="border-[3px] border-text-light dark:border-text-dark p-6 md:p-8 inline-block shadow-neo-yellow">
  <!-- Hero content like metrics or tagline -->
</div>
```

Import Badge component in frontmatter.

Replace with Badge component usage. The Badge component provides:
- Consistent border-[3px] styling
- iso-shadow for neobrutalist effect
- role="group" and aria-label for accessibility
- Automatic dark mode transformation

If the Hero uses this for metrics display:
```astro
<Badge
  label="Experience"
  value="10+ Years"
  variant="yellow"
/>
```

Or if it wraps content as a decorative container, check if Badge's structure fits. If Badge doesn't match the exact Hero layout needs, consider:
1. Creating a custom variant for Badge
2. Using Badge's styling patterns but keeping custom structure with proper accessibility attributes

Ensure the visual appearance matches the existing Hero aesthetic while gaining component consistency.
  </action>
  <verify>
Run `npm run dev` and visit homepage.
Verify Hero section:
- Badge-like element displays correctly
- Shadow/border styling matches design system
- Dark mode renders correctly (shadow -> glow transformation if applicable)
  </verify>
  <done>
Hero badge-like element uses Badge component or consistent design system pattern with accessibility attributes.
  </done>
</task>

</tasks>

<verification>
```bash
# Type check
npm run astro check

# Build succeeds
npm run build
```

Manual testing:
- [ ] Project detail: Category badge has Badge component styling + shadow
- [ ] Project detail: Tech badges consistent with design system
- [ ] Homepage: Contact textarea matches other Input fields
- [ ] Homepage: Hero badge element uses Badge component or consistent pattern
- [ ] Dark mode: All elements display correctly
</verification>

<success_criteria>
- Portfolio detail category badge uses Badge component with aria-label
- Portfolio detail tech badges use Badge component or consistent inline styling
- ContactSection textarea uses Input component with as="textarea"
- Hero section badge uses Badge component
- All focus states are WCAG 2.4.13 compliant
- No raw HTML inputs/badges on these pages
</success_criteria>

<output>
After completion, create `.planning/phases/19-component-migration/19-04-SUMMARY.md`
</output>
