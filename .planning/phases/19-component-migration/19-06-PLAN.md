---
phase: 19-component-migration
plan: 06
type: execute
wave: 4
depends_on: ["19-04"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "All migrated pages render correctly in light mode"
    - "All migrated pages render correctly in dark mode"
    - "All focus states are WCAG 2.4.13 compliant"
    - "Lighthouse CI thresholds (90%+) are maintained"
    - "axe-core finds no new accessibility violations"
  artifacts: []
  key_links: []
---

<objective>
Final verification of component migration with accessibility and Lighthouse testing.

Purpose: Per CONTEXT.md testing approach: "Run axe-core accessibility testing once at end of phase" and "Run Lighthouse CI checks at end of phase to ensure 90%+ thresholds maintained."

Output: Verified migration with passing accessibility and performance tests.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/AUDIT.md
@.planning/phases/19-component-migration/19-CONTEXT.md
@.planning/phases/19-component-migration/19-01-SUMMARY.md
@.planning/phases/19-component-migration/19-02-SUMMARY.md
@.planning/phases/19-component-migration/19-03-SUMMARY.md
@.planning/phases/19-component-migration/19-04-SUMMARY.md
@.planning/phases/19-component-migration/19-05-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Run axe-core accessibility tests</name>
  <files></files>
  <action>
Run Playwright axe-core tests to verify no accessibility regressions:

```bash
npm run test:a11y
```

Or if that script doesn't exist:
```bash
npx playwright test tests/accessibility/
```

Check results for:
- No new violations on Contact page
- No new violations on Portfolio index/detail
- No new violations on Blog index/detail
- No new violations on Homepage

If violations found, document them and assess severity.
  </action>
  <verify>
All accessibility tests pass with no new violations.
  </verify>
  <done>
axe-core tests pass with zero regressions.
  </done>
</task>

<task type="auto">
  <name>Task 2: Run Lighthouse CI checks</name>
  <files></files>
  <action>
Build the site and run Lighthouse CI:

```bash
npm run build
npx @lhci/cli@0.14.x autorun
```

Verify thresholds per CLAUDE.md:
- Performance: 90%+
- Accessibility: 90%+
- Best Practices: 90%+
- SEO: 90%+

If any score drops below threshold, investigate the cause:
- Performance drop: Check if new components add significant CSS/JS
- Accessibility drop: Check if migrations introduced issues
  </action>
  <verify>
All Lighthouse CI thresholds pass at 90%+.
  </verify>
  <done>
Lighthouse CI passes with all scores at 90%+ thresholds.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete component migration across Contact page, Portfolio pages, Blog pages, and Homepage ContactSection.

Changes include:
- Button component now has outline variant
- Input component now supports textarea and select
- Contact page uses Input and Button components
- Filter buttons on Portfolio and Blog use Button with variant toggling
- Portfolio detail badges use Badge component
- Blog tags use correct border width
  </what-built>
  <how-to-verify>
1. Visit http://localhost:4321/contact
   - Tab through form fields, verify focus rings visible
   - Submit empty form, verify validation works
   - Fill and submit, verify loading spinner appears

2. Visit http://localhost:4321/projects
   - Click filter buttons, verify active state toggles
   - Verify styling in both light and dark mode

3. Visit http://localhost:4321/blog
   - Click tag filters, verify active state toggles
   - Click Load More if visible

4. Visit http://localhost:4321/projects/[any-project]
   - Verify category badge has proper styling
   - Verify tech badges in Built With section

5. Visit homepage, scroll to contact section
   - Verify textarea matches other inputs

6. Toggle dark mode on each page, verify no broken states
  </how-to-verify>
  <resume-signal>Type "approved" if all pages look correct, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
Automated:
```bash
# Accessibility tests
npx playwright test tests/accessibility/

# Lighthouse CI
npm run build && npx @lhci/cli@0.14.x autorun
```

Manual (checkpoint):
- [ ] Contact page form works correctly
- [ ] Filter buttons toggle active state
- [ ] Dark mode renders correctly on all pages
- [ ] No visual regressions
</verification>

<success_criteria>
- axe-core tests pass with no new violations
- Lighthouse CI all categories at 90%+
- Human verification approves visual appearance
- All HIGH severity findings from AUDIT.md are resolved
</success_criteria>

<output>
After completion, create `.planning/phases/19-component-migration/19-06-SUMMARY.md`
</output>
