---
phase: 17-design-system-reference-page
plan: 02
type: execute
wave: 2
depends_on: [17-01]
files_modified:
  - src/pages/design-system.astro
  - src/components/design-system/TokenSwatch.astro
autonomous: true

must_haves:
  truths:
    - "Developer can view OKLCH color palette with hex values on /design-system page"
    - "Developer can view typography scale with Bricolage Grotesque and DM Sans examples"
    - "Colors display both light mode and dark mode values"
    - "Typography shows font specimens and practical size scale"
  artifacts:
    - path: "src/components/design-system/TokenSwatch.astro"
      provides: "Color token display component"
      contains: "oklch"
    - path: "src/pages/design-system.astro"
      provides: "Design tokens sections populated"
      contains: ["#colors", "#typography"]
  key_links:
    - from: "src/pages/design-system.astro"
      to: "src/components/design-system/TokenSwatch.astro"
      via: "component import"
      pattern: "import.*TokenSwatch"
---

<objective>
Populate the Colors and Typography sections of the design system page with visual token displays.

Purpose: Document all design tokens (colors, typography) so developers/agents can reference exact values and usage.
Output: Complete Colors and Typography sections with swatches, values, and examples.
</objective>

<execution_context>
@/Users/joel/.claude/get-shit-done/workflows/execute-plan.md
@/Users/joel/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/17-design-system-reference-page/17-01-SUMMARY.md

# Design tokens source of truth
@src/styles/global.css (lines 1-70 for all token definitions)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create TokenSwatch component for color display</name>
  <files>src/components/design-system/TokenSwatch.astro</files>
  <action>
Create `/src/components/design-system/TokenSwatch.astro` with:

1. **Props interface:**
   - `name: string` - Token name (e.g., "Yellow")
   - `cssVar: string` - CSS variable name (e.g., "--color-yellow")
   - `oklch: string` - OKLCH value (e.g., "oklch(0.85 0.18 95)")
   - `hex: string` - Hex fallback (e.g., "#ffef6a")
   - `darkOklch?: string` - Dark mode OKLCH (optional)
   - `darkHex?: string` - Dark mode hex (optional)

2. **Structure:**
   - Color swatch preview (80px height, displays the color)
   - Token name (heading)
   - Values display:
     - CSS variable: `var(--color-yellow)`
     - OKLCH: `oklch(0.85 0.18 95)`
     - Hex: `#ffef6a`
   - If dark variants provided, show them in separate row

3. **Styling:**
   - Swatch preview: 3px border, rounded corners
   - Use `background: var(--cssVar)` for live color
   - Monospace font for values (code styling)
   - Card-like container with subtle shadow

4. **Accessibility:**
   - `aria-hidden="true"` on decorative swatch
   - Semantic heading for token name
  </action>
  <verify>
1. Component renders with all props
2. Swatch displays correct color
3. All value formats shown (CSS var, OKLCH, hex)
4. Dark mode variants display when provided
  </verify>
  <done>
TokenSwatch component renders color tokens with all value formats and optional dark mode variants.
  </done>
</task>

<task type="auto">
  <name>Task 2: Populate Colors section with all color tokens</name>
  <files>src/pages/design-system.astro</files>
  <action>
Update `/src/pages/design-system.astro` Colors section (`#colors`) with:

1. **Import TokenSwatch component**

2. **Section structure:**
   - H2: "Colors"
   - Intro paragraph explaining OKLCH color system

3. **Primary accent colors grid (3 columns on lg):**
   - Yellow:
     - OKLCH: `oklch(0.85 0.18 95)`
     - Hex: `#ffef6a`
     - Dark: `oklch(0.80 0.16 95)` / `#f5e03b`
   - Turquoise:
     - OKLCH: `oklch(0.70 0.15 195)`
     - Hex: `#4dd4c0`
     - Dark: `oklch(0.65 0.13 195)` / `#2dbfaa`
   - Magenta:
     - OKLCH: `oklch(0.65 0.20 350)`
     - Hex: `#d946ef`
     - Dark: `oklch(0.60 0.18 350)` / `#c026d3`

4. **Text color variants subsection:**
   - yellow-text / yellow-text-dark
   - turquoise-text / turquoise-text-dark

5. **Neutral colors subsection:**
   - Background light/dark
   - Text light/dark
   - Text muted light/dark

6. **Usage guidelines:**
   - When to use each color (buttons, cards, accents)
   - Dark mode transformation explanation

Per user decision: Follow site theme for dark/light (no separate toggle).
  </action>
  <verify>
1. Colors section displays all 3 primary colors with swatches
2. All OKLCH and hex values match global.css
3. Dark mode variants shown for each color
4. Neutral colors documented
5. Grid layout responsive (3 cols on lg, 1 on mobile)
  </verify>
  <done>
Colors section complete with all color tokens displayed as swatches with OKLCH and hex values.
  </done>
</task>

<task type="auto">
  <name>Task 3: Populate Typography section with font specimens and scale</name>
  <files>src/pages/design-system.astro</files>
  <action>
Update `/src/pages/design-system.astro` Typography section (`#typography`) with:

1. **Section structure:**
   - H2: "Typography"
   - Intro explaining two-tier typography system

2. **Font specimens subsection (`#typography-families`):**
   - **Bricolage Grotesque** (headings):
     - Specimen: "ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz 0123456789"
     - Weight examples: 600, 700, 800
     - Usage: H1-H4, buttons, labels
   - **DM Sans** (body):
     - Specimen: "ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz 0123456789"
     - Weight examples: 400, 500, 600
     - Usage: Body text, paragraphs, inputs

3. **Type scale subsection (`#typography-scale`):**
   Display each size with:
   - Size name (xs, sm, base, lg, xl, 2xl, 3xl, 4xl)
   - Rem value
   - Pixel equivalent
   - Live example text at that size

   Scale values from global.css:
   ```
   xs: 0.75rem (12px)
   sm: 0.875rem (14px)
   base: 1rem (16px)
   lg: 1.125rem (18px)
   xl: 1.25rem (20px)
   2xl: 1.5rem (24px)
   3xl: 1.875rem (30px)
   4xl: 2.25rem (36px)
   ```

4. **Font weight tokens:**
   - h1: 800
   - h2: 700
   - h3: 600
   - h4: 500
   - body: 400

5. **Line height tokens:**
   - tight: 1.25
   - normal: 1.5
   - relaxed: 1.75

Per user decision: Show both font specimens AND practical scale examples.
  </action>
  <verify>
1. Typography section shows both font families with specimens
2. Type scale displays all 8 sizes with rem/px values
3. Font weights documented for headings and body
4. Line heights documented
5. Examples render in correct fonts
  </verify>
  <done>
Typography section complete with font specimens, type scale, weights, and line heights documented.
  </done>
</task>

</tasks>

<verification>
1. Run `npm run dev` and visit http://localhost:4321/design-system
2. Scroll to Colors section - verify all color swatches display
3. Verify OKLCH and hex values match global.css definitions
4. Scroll to Typography section - verify font specimens render correctly
5. Verify type scale shows all 8 sizes with correct values
6. Toggle dark mode - verify colors update appropriately
7. Run `npm run build` to verify no build errors
</verification>

<success_criteria>
- [ ] TokenSwatch component created and functional
- [ ] Colors section displays all 3 primary colors with swatches
- [ ] Each color shows OKLCH, hex, and dark mode values
- [ ] Typography section shows Bricolage Grotesque and DM Sans specimens
- [ ] Type scale displays all 8 sizes (xs through 4xl)
- [ ] Font weights and line heights documented
- [ ] Dark mode toggle works correctly for color display
- [ ] `npm run build` succeeds
</success_criteria>

<output>
After completion, create `.planning/phases/17-design-system-reference-page/17-02-SUMMARY.md`
</output>
