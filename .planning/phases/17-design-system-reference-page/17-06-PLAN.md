# Plan: Badge Readability Fix

## Context

**Phase:** 17 (Design System Reference Page)
**Type:** UAT Gap Closure
**Source:** Re-verification session 2026-02-10

## Gap

**Issue:** Yellow badge text on white background has insufficient contrast (~1.1:1 vs WCAG AA 4.5:1 requirement). User reported: "the yellow against white isn't easy to read."

**User suggestion:** Make the big text black with a primary color background.

## Solution

Invert Badge color scheme: colored backgrounds with dark text instead of colored text on transparent backgrounds. This matches the Button component pattern and ensures all variants meet WCAG contrast requirements.

## Tasks

### Task 1: Update Badge variant classes

**File:** `src/components/ui/Badge.astro`

**Current (lines 21-25):**
```astro
const variantClasses = {
  yellow: 'text-yellow dark:text-yellow-dark',
  turquoise: 'text-turquoise dark:text-turquoise-dark',
  magenta: 'text-magenta dark:text-magenta-dark'
};
```

**New:**
```astro
const variantClasses = {
  yellow: 'bg-yellow text-text-light dark:bg-yellow-dark dark:text-text-dark',
  turquoise: 'bg-turquoise text-text-light dark:bg-turquoise-dark dark:text-text-dark',
  magenta: 'bg-magenta text-text-light dark:bg-magenta-dark dark:text-text-dark'
};
```

### Task 2: Remove conflicting text color from description

**File:** `src/components/ui/Badge.astro`

**Current (line 45):**
```astro
<span class="text-sm md:text-base font-body text-text-muted-light dark:text-text-muted-dark mt-1">
```

**New:**
```astro
<span class="text-sm md:text-base font-body opacity-80 mt-1">
```

Using opacity instead of muted color ensures description inherits the correct text color and remains readable on colored backgrounds.

## Verification

1. Navigate to `/design-system` Badge section
2. All three variants (Yellow, Turquoise, Magenta) show colored backgrounds with dark text
3. Text is easily readable in both light and dark modes
4. Description text is slightly muted but still readable

## Commit

```
fix(badge): use colored backgrounds for WCAG contrast compliance

- Change Badge from colored text to colored background with dark text
- Fixes yellow text unreadable on white background (~1.1:1 contrast)
- Use opacity for description instead of muted color class
- All variants now meet WCAG AA 4.5:1 contrast requirement
```
