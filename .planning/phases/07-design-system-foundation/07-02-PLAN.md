---
phase: 07-design-system-foundation
plan: 02
type: execute
wave: 2
depends_on:
  - "07-01"
files_modified:
  - .planning/DENSITY.md
  - src/styles/global.css
autonomous: true

must_haves:
  truths:
    - "Density guidelines are documented with per-section targets"
    - "Developers can reference density rules when building components"
    - "Prose typography uses heading hierarchy with H1 ALL CAPS"
  artifacts:
    - path: ".planning/DENSITY.md"
      provides: "Density guidelines for neobrutalist design"
      contains: "3/10 overall"
    - path: "src/styles/global.css"
      provides: "Prose heading styles with weight hierarchy"
      contains: "text-transform: uppercase"
  key_links:
    - from: ".planning/DENSITY.md"
      to: "Phase 8+ component development"
      via: "Developer reference during component implementation"
      pattern: "n/a"
---

<objective>
Document density guidelines and finalize typography hierarchy for prose content (H1 ALL CAPS, descending weights).

Purpose: Density documentation ensures Phase 8+ components maintain the 3/10 constraint. Typography hierarchy completes the design system foundation.
Output: DENSITY.md reference document, updated prose styles in global.css.
</objective>

<execution_context>
@/Users/joel/.claude/get-shit-done/workflows/execute-plan.md
@/Users/joel/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/07-design-system-foundation/07-CONTEXT.md
@.planning/phases/07-design-system-foundation/07-01-SUMMARY.md
@src/styles/global.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create density guidelines documentation</name>
  <files>.planning/DENSITY.md</files>
  <action>
Create a density guidelines document that defines the 3/10 constraint and per-section targets.

**Document structure:**

# Density Guidelines

## Overview
- Overall density target: 3/10 (distinctive but not overwhelming)
- Neobrutalist elements (thick borders, colored shadows, bright colors) are bold and attention-grabbing
- Overuse collapses visual hierarchy; restraint creates impact

## Density Scale

| Level | Description | Use For |
|-------|-------------|---------|
| 10/10 | Maximum neobrutalist treatment | Hero section, primary CTAs |
| 7/10 | Strong presence | Secondary CTAs, feature highlights |
| 5/10 | Moderate | Navigation active states, form inputs |
| 3/10 | Subtle accents | Content sections, cards |
| 2/10 | Minimal | Blog post body, reading content |
| 0/10 | None | Pure content, long-form text |

## Per-Section Targets

### Hero Section (10/10)
- Full colored shadows
- Thick borders (4px)
- Bright accent colors
- Bold typography (H1 ALL CAPS, 800 weight)
- Asymmetric layouts allowed

### Primary CTAs (10/10)
- Colored background (accent color)
- Thick border (4px)
- Colored shadow matching button
- Hover: translate + shadow reduction (pressed effect)

### Content Sections (3/10)
- Thin borders OR no borders
- Minimal shadows (1-2px offset if any)
- One accent color per section (rotate yellow → turquoise → magenta)
- Standard typography (no ALL CAPS except H1)
- Moderate whitespace

### Cards (3/10)
- Border: 3px
- Shadow: optional (use for interactive cards only)
- Background: neutral (white/dark)
- Hover: subtle border color change or shadow appearance

### Blog Post Content (2/10)
- H1/H2: styled with heading font, appropriate weights
- Body text: clean, no decorative borders
- Links: accent color underline
- Code blocks: subtle background, no borders
- Blockquotes: left border accent only

### Form Inputs (5/10)
- Border: 3px
- Focus: accent color border
- No shadows on inputs (reserve for buttons)
- Labels: heading font, semibold

### Navigation (3/10)
- Active state: accent color text OR underline
- Hover: subtle color change
- No shadows on nav items
- Mobile menu: can increase to 5/10

## Implementation Rules

1. **One accent per section**: Choose yellow, turquoise, or magenta. Don't mix.
2. **Shadows imply importance**: Reserve for interactive elements (buttons, clickable cards)
3. **Borders everywhere, shadows selective**: Borders are neobrutalist baseline; shadows add emphasis
4. **Whitespace is your friend**: Bold elements need breathing room
5. **Test with real content**: Lorem ipsum hides density problems

## Anti-Patterns

- Multiple accent colors in same visual group
- Shadows on non-interactive elements
- Thick borders + colored shadows + bright background (pick two)
- Tight spacing with heavy styling
- ALL CAPS on anything except H1

## Validation Checklist

When reviewing components, ask:
- [ ] Does this section match its density target?
- [ ] Is there one accent color only?
- [ ] Are shadows only on interactive elements?
- [ ] Is there sufficient whitespace?
- [ ] Does the visual hierarchy flow (high density → low density for content)?

---
*Created: Phase 7 (Design System Foundation)*
*Reference during: Phase 8-11 component development*
  </action>
  <verify>
File exists at .planning/DENSITY.md
File contains "3/10" text
File contains per-section targets (Hero, Content, Blog, etc.)
  </verify>
  <done>
DENSITY.md created with comprehensive density guidelines including scale definitions, per-section targets, implementation rules, anti-patterns, and validation checklist.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update prose typography with heading hierarchy</name>
  <files>src/styles/global.css</files>
  <action>
Update the prose styles in global.css to implement the locked typography decisions:
- H1: ALL CAPS, weight 800, largest size
- H2: normal case, weight 700
- H3: normal case, weight 600

**Changes to prose section:**

1. Add h1 styling (currently missing):
```css
.prose h1 {
  font-family: var(--font-heading);
  font-size: var(--text-4xl);
  font-weight: var(--font-weight-h1);
  text-transform: uppercase;
  letter-spacing: -0.02em;
  margin-top: 0;
  margin-bottom: 1.5rem;
  color: var(--color-text-light);
}

.dark .prose h1 {
  color: var(--color-text-dark);
}
```

2. Update h2 styling to use design tokens:
```css
.prose h2 {
  font-family: var(--font-heading);
  font-size: var(--text-3xl);
  font-weight: var(--font-weight-h2);
  margin-top: 2.5rem;
  margin-bottom: 1rem;
  color: var(--color-text-light);
}
```

3. Update h3 styling to use design tokens:
```css
.prose h3 {
  font-family: var(--font-heading);
  font-size: var(--text-2xl);
  font-weight: var(--font-weight-h3);
  margin-top: 2rem;
  margin-bottom: 0.75rem;
  color: var(--color-text-light);
}
```

4. Add h4 styling for completeness:
```css
.prose h4 {
  font-family: var(--font-heading);
  font-size: var(--text-xl);
  font-weight: var(--font-weight-h4);
  margin-top: 1.5rem;
  margin-bottom: 0.5rem;
  color: var(--color-text-light);
}

.dark .prose h4 {
  color: var(--color-text-dark);
}
```

**Keep existing prose styles** for p, ul, ol, li, a, blockquote, code, etc. Only update headings.
  </action>
  <verify>
Run `npm run build` - should complete without errors.
Grep for "text-transform: uppercase" in global.css - should find in h1 rule.
Grep for "font-weight-h1" in global.css - should find reference.
  </verify>
  <done>
Prose headings updated: H1 is ALL CAPS with 800 weight, H2-H4 have descending weights using design tokens. All headings use Bricolage Grotesque via --font-heading variable.
  </done>
</task>

<task type="auto">
  <name>Task 3: Final verification and build</name>
  <files>src/styles/global.css, .planning/DENSITY.md</files>
  <action>
Perform final verification of the complete design system foundation:

1. Run production build:
   `npm run build`

2. Run Astro TypeScript check:
   `npm run astro check`

3. Verify all design tokens are present by grepping global.css:
   - Colors: yellow, turquoise, magenta
   - Shadows: shadow-neo-yellow, shadow-neo-turquoise, shadow-neo-magenta
   - Typography: font-heading, font-body, font-weight-h1 through h4
   - Borders: border-neo, border-neo-thick
   - Spacing: spacing-neo-xs through 2xl

4. Verify DENSITY.md exists and has required content:
   - "3/10 overall" text
   - Per-section targets
   - Validation checklist

5. Start dev server and visually verify:
   `npm run dev`
   - Visit localhost:4321
   - Check headings use Bricolage Grotesque (geometric quirky font)
   - Check body uses DM Sans (friendly geometric)
   - Toggle dark mode - should still work
   - Check blog page if available - H1 should be ALL CAPS

If any issues found, fix them before completing.
  </action>
  <verify>
- `npm run build` exits 0
- `npm run astro check` shows no errors
- DENSITY.md contains all required sections
- Browser shows correct fonts and dark mode works
  </verify>
  <done>
Design system foundation complete: all tokens defined, density documented, prose typography using heading hierarchy, build passing, no regressions.
  </done>
</task>

</tasks>

<verification>
1. `.planning/DENSITY.md` exists with comprehensive density guidelines
2. `global.css` prose styles use design tokens for h1-h4
3. H1 has `text-transform: uppercase` style
4. `npm run build` completes successfully
5. `npm run astro check` shows no errors
6. Visual verification shows correct fonts in browser
</verification>

<success_criteria>
- DENSITY.md created with per-section targets (hero 10/10, content 3/10, blog 2/10)
- Prose h1-h4 use design token variables (--font-heading, --font-weight-h1, etc.)
- H1 is ALL CAPS via text-transform: uppercase
- All builds and checks pass
- No regressions in existing site functionality
</success_criteria>

<output>
After completion, create `.planning/phases/07-design-system-foundation/07-02-SUMMARY.md`
</output>
